# ============================================================================
# WellPulse API - Test Environment Configuration
# ============================================================================
# This file is used for E2E tests and unit tests requiring environment variables

# Node Environment
NODE_ENV=test

# Server Configuration
PORT=4000
API_PREFIX=api

# Master Database (using wellpulse_master for dev testing with real data)
MASTER_DATABASE_URL=postgresql://wellpulse:wellpulse@localhost:5432/wellpulse_master

# PostgreSQL Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=wellpulse
POSTGRES_PASSWORD=wellpulse

# JWT Configuration (test keys)
JWT_SECRET=test-jwt-secret-key-for-e2e-tests
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=test-refresh-token-key-for-e2e-tests
JWT_REFRESH_EXPIRES_IN=30d

# CORS Configuration
CORS_ORIGIN=http://localhost:4000,http://localhost:4002
CORS_CREDENTIALS=true

# Rate Limiting (more lenient for tests)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# Logging
LOG_LEVEL=error

# Redis (for caching and rate limiting)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Email Configuration (Mailpit for development)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@wellpulse-test.app

# Dashboard URL
DASHBOARD_URL=http://demo.localhost:4001/dashboard

# Azure Blob Storage (mock/test values)
AZURE_STORAGE_ACCOUNT_NAME=wellpulsetest
AZURE_STORAGE_ACCOUNT_KEY=test-storage-key-for-e2e-tests
AZURE_STORAGE_CONTAINER=logos

# ML Service
ML_SERVICE_URL=http://localhost:8000

# Encryption
ENCRYPTION_KEY=test-32-char-encryption-key-01

# Azure Entra ID (Azure AD) - Dummy test values
# These are fake IDs for E2E tests to prevent AzureAdStrategy initialization errors
# Real Azure AD authentication is not tested in E2E suite
AZURE_AD_CLIENT_ID=00000000-0000-0000-0000-000000000000
AZURE_AD_TENANT_ID=00000000-0000-0000-0000-000000000000
AZURE_AD_CLIENT_SECRET=test-azure-ad-secret
AZURE_AD_REDIRECT_URI=https://test.wellpulse.io/auth/callback

# Azure AD Role Mapping (empty for tests)
AZURE_AD_ADMIN_GROUPS=
AZURE_AD_MANAGER_GROUPS=
AZURE_AD_ADMIN_ROLES=
AZURE_AD_MANAGER_ROLES=
