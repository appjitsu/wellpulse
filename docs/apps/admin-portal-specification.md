# WellPulse Admin Portal Specification

**Version**: 1.0
**Last Updated**: October 23, 2025
**Status**: ğŸ—ï¸ Architecture Design

---

## Overview

The WellPulse Admin Portal is an internal-facing web application for WellPulse staff to manage all aspects of tenant onboarding, provisioning, monitoring, and support **without requiring direct access to Azure, AWS, or client infrastructure**.

**Key Principle**: The admin portal is the **single source of truth** and **command center** for WellPulse operations. Admins should never need to:
- Log into Azure Portal
- Connect to databases via `psql`
- SSH into servers
- Manually edit configuration files

Everything is done through the admin portal UI.

---

## Access & Security

### URL & Authentication

```
Production: https://admin.wellpulse.io
Staging: https://admin-staging.wellpulse.io

Authentication:
  - Email/password (WellPulse staff only)
  - Multi-factor authentication (TOTP via Google Authenticator)
  - IP whitelisting (only from WellPulse office network)
  - Session timeout: 30 minutes of inactivity
```

### Role-Based Access Control (RBAC)

| Role | Permissions | Use Case |
|------|-------------|----------|
| **Super Admin** | Full access (create/edit/delete tenants, manage billing, view all data) | Founders, CTO |
| **Operations Admin** | Tenant management, provisioning, monitoring | Operations team |
| **Support Admin** | View-only access to tenant data, can create support tickets | Customer support team |
| **Billing Admin** | View/edit billing, invoices, payment methods | Finance team |
| **Read-Only** | View-only access to everything | Investors, advisors |

---

## Tech Stack

```yaml
Frontend:
  - Next.js 15 (App Router)
  - React 19
  - Tailwind CSS 4
  - Shadcn UI
  - React Query
  - Zustand (state management)

Backend:
  - Shared NestJS API (same as main API)
  - Separate admin module with admin guards
  - Admin-only endpoints under /admin/*

Database:
  - Master PostgreSQL database (same as tenant registry)
  - Admin users table
  - Admin audit log table

Deployment:
  - Azure Container Apps (same as web app)
  - Subdomain: admin.wellpulse.io
```

---

## Core Features

### 1. Tenant Management Dashboard

**URL**: `https://admin.wellpulse.io/tenants`

**Overview Screen**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WellPulse Admin Portal                          [Profile] [Logout]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Dashboard  ğŸ‘¥ Tenants  ğŸ’° Billing  ğŸ“ˆ Analytics  âš™ï¸ Settings â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Tenant Overview                              [+ Create Tenant] â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ” Search:  [________________]  Filter: [All] [Active]    â”‚ â”‚
â”‚  â”‚                                         [Trial] [Suspended] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Tenant            Status    Tier    DB Location   Created  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸŸ¢ ACME Oil       ACTIVE    PRO     Azure        10/15/25  â”‚ â”‚
â”‚  â”‚ ğŸŸ¢ Permian Prod   ACTIVE    ENT     AWS          10/10/25  â”‚ â”‚
â”‚  â”‚ ğŸŸ¡ Texas Energy   TRIAL     START   On-Prem      10/20/25  â”‚ â”‚
â”‚  â”‚ ğŸ”´ Old Operator   SUSPENDED PRO     Azure        09/01/25  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  Stats:                                                         â”‚
â”‚  - Total Tenants: 42                                            â”‚
â”‚  - Active: 38  |  Trial: 3  |  Suspended: 1                   â”‚
â”‚  - This Month: +5 new tenants                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Click on tenant â†’ Detail view**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to Tenants                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ACME Oil & Gas                                    [Edit] [â€¢â€¢â€¢]  â”‚
â”‚  acmeoil.wellpulse.io                             ğŸŸ¢ ACTIVE      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“‹ Details    ğŸ—„ï¸ Database    ğŸ‘¥ Users    ğŸ“Š Usage    ğŸ’° Billing â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Details                                                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                 â”‚
â”‚  Tenant ID:        acmeoil-uuid-123                            â”‚
â”‚  Slug:             acmeoil                                      â”‚
â”‚  Company Name:     ACME Oil & Gas, Inc.                        â”‚
â”‚  Website:          https://acmeoil.wellpulse.io                â”‚
â”‚  Contact Email:    admin@acmeoil.com                           â”‚
â”‚  Phone:            (432) 555-0123                              â”‚
â”‚  Address:          123 Oil Field Rd, Midland, TX 79701         â”‚
â”‚                                                                 â”‚
â”‚  Tier:             Professional ($299/month)                    â”‚
â”‚  Status:           Active                                       â”‚
â”‚  Trial Ends:       N/A (paying customer)                       â”‚
â”‚  Created:          October 15, 2025                            â”‚
â”‚  Created By:       jason@wellpulse.io                          â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Database                                                       â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                 â”‚
â”‚  Provider:         Azure PostgreSQL Flexible Server            â”‚
â”‚  Region:           East US 2                                    â”‚
â”‚  Connection Type:  Private Link                                 â”‚
â”‚  Database URL:     postgresql://acmeoil_user:****@...          â”‚
â”‚  Schema Version:   v1.2.3 (latest)                             â”‚
â”‚                                                                 â”‚
â”‚  [Test Connection]  [Run Migrations]  [View Schema]            â”‚
â”‚                                                                 â”‚
â”‚  Last Migration:   October 22, 2025 (migration_015_add_esg)   â”‚
â”‚  Connection Status: âœ“ Connected (latency: 12ms)               â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Users (5 total)                                                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                 â”‚
â”‚  john.doe@acmeoil.com        Admin         Last login: Today   â”‚
â”‚  jane.smith@acmeoil.com      Manager       Last login: 2d ago  â”‚
â”‚  field.operator1@acmeoil.com Field Operator Last login: 1h ago â”‚
â”‚  field.operator2@acmeoil.com Field Operator Last login: 5h ago â”‚
â”‚  viewer@consultant.com       Viewer        Last login: Never   â”‚
â”‚                                                                 â”‚
â”‚  [+ Add User]  [Send Invitations]                              â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Usage Statistics (Last 30 Days)                                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                 â”‚
â”‚  API Requests:     1,234,567 requests                          â”‚
â”‚  Data Synced:      45 GB                                        â”‚
â”‚  Storage Used:     12.3 GB (photos, PDFs)                      â”‚
â”‚  Active Wells:     47 wells                                     â”‚
â”‚  Field Data Entries: 3,456 entries                             â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Billing                                                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                 â”‚
â”‚  Current Plan:     Professional ($299/month)                    â”‚
â”‚  Billing Cycle:    Monthly (renews Nov 15)                     â”‚
â”‚  Payment Method:   Visa â€¢â€¢â€¢â€¢ 4242 (exp 12/26)                  â”‚
â”‚  Next Invoice:     $299.00 on November 15, 2025               â”‚
â”‚  Status:           âœ“ Paid (current through Nov 15)            â”‚
â”‚                                                                 â”‚
â”‚  [View Invoice History]  [Update Payment Method]               â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Actions                                                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                 â”‚
â”‚  [Suspend Tenant]  [Upgrade Plan]  [Export Data]               â”‚
â”‚  [Send Notification]  [View Audit Log]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. Tenant Provisioning Wizard

**URL**: `https://admin.wellpulse.io/tenants/new`

**Step 1: Company Information**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Tenant                               Step 1 of 5     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Company Information                                            â”‚
â”‚                                                                 â”‚
â”‚  Company Name *                                                 â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚                                                                 â”‚
â”‚  Subdomain * (will become {slug}.wellpulse.io)                 â”‚
â”‚  [___________________] .wellpulse.io                           â”‚
â”‚  âœ“ Available   or   âœ— Already taken                           â”‚
â”‚                                                                 â”‚
â”‚  Primary Contact Email *                                        â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚                                                                 â”‚
â”‚  Phone Number                                                   â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚                                                                 â”‚
â”‚  Address                                                        â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚                                                                 â”‚
â”‚  Website                                                        â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚                                                                 â”‚
â”‚                                  [Cancel]  [Next: Database â†’]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step 2: Database Configuration**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Tenant                               Step 2 of 5     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Database Configuration                                         â”‚
â”‚                                                                 â”‚
â”‚  Where will this tenant's database be hosted? *                â”‚
â”‚                                                                 â”‚
â”‚  â—‹ Azure PostgreSQL (Recommended)                              â”‚
â”‚    â””â”€ We'll provision a new Azure database for the client     â”‚
â”‚                                                                 â”‚
â”‚  â—‹ AWS RDS PostgreSQL                                          â”‚
â”‚    â””â”€ We'll provision a new AWS RDS instance                  â”‚
â”‚                                                                 â”‚
â”‚  â—‹ Client's Own Azure PostgreSQL                               â”‚
â”‚    â””â”€ Client provides connection string                       â”‚
â”‚                                                                 â”‚
â”‚  â—‹ Client's Own AWS RDS PostgreSQL                             â”‚
â”‚    â””â”€ Client provides connection string                       â”‚
â”‚                                                                 â”‚
â”‚  â—‹ On-Premises PostgreSQL (VPN Required)                       â”‚
â”‚    â””â”€ Client provides connection string + VPN config          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ If "Azure PostgreSQL" selected:                        â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ Azure Region:                                          â”‚    â”‚
â”‚  â”‚ [East US 2 â–¼]                                          â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ Database SKU:                                          â”‚    â”‚
â”‚  â”‚ [Burstable B1ms (1 vCore, 2GB RAM) - $30/mo â–¼]       â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ Storage:                                               â”‚    â”‚
â”‚  â”‚ [32 GB â–¼]  (Auto-grow: â˜‘ Enabled)                     â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ High Availability:                                     â”‚    â”‚
â”‚  â”‚ â˜ Enable (adds ~$50/month)                            â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ Backup Retention:                                      â”‚    â”‚
â”‚  â”‚ [7 days â–¼]                                             â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ Estimated Cost: $30/month                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ If "Client's Own" selected:                            â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ Database Connection String *                           â”‚    â”‚
â”‚  â”‚ [postgresql://user:pass@host:5432/dbname]             â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ [Test Connection]                                      â”‚    â”‚
â”‚  â”‚ âœ“ Connection successful!                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚                              [â† Back]  [Next: Plan Selection â†’] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step 3: Plan Selection**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Tenant                               Step 3 of 5     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Subscription Plan                                              â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   STARTER    â”‚  â”‚ PROFESSIONAL â”‚  â”‚  ENTERPRISE  â”‚         â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚         â”‚
â”‚  â”‚   $99/mo     â”‚  â”‚   $299/mo    â”‚  â”‚   $999/mo    â”‚         â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚         â”‚
â”‚  â”‚ â€¢ 10 users   â”‚  â”‚ â€¢ 50 users   â”‚  â”‚ â€¢ Unlimited  â”‚         â”‚
â”‚  â”‚ â€¢ 50 wells   â”‚  â”‚ â€¢ 200 wells  â”‚  â”‚ â€¢ Unlimited  â”‚         â”‚
â”‚  â”‚ â€¢ 10 GB      â”‚  â”‚ â€¢ 50 GB      â”‚  â”‚ â€¢ Unlimited  â”‚         â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚         â”‚
â”‚  â”‚              â”‚  â”‚ â€¢ Predictive â”‚  â”‚ â€¢ Everything â”‚         â”‚
â”‚  â”‚              â”‚  â”‚   Maintenanceâ”‚  â”‚ â€¢ SSO        â”‚         â”‚
â”‚  â”‚              â”‚  â”‚ â€¢ ESG        â”‚  â”‚ â€¢ Priority   â”‚         â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚   Support    â”‚         â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚ â€¢ Dedicated  â”‚         â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚   Account Mgrâ”‚         â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚         â”‚
â”‚  â”‚  [Select]    â”‚  â”‚  [Select]    â”‚  â”‚  [Select]    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                 â”‚
â”‚  Trial Period:  â˜‘ Enable 30-day free trial                     â”‚
â”‚                                                                 â”‚
â”‚                       [â† Back]  [Next: Admin User â†’]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step 4: Create Admin User**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Tenant                               Step 4 of 5     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Initial Admin User                                             â”‚
â”‚                                                                 â”‚
â”‚  This user will have full admin access to the tenant account.  â”‚
â”‚                                                                 â”‚
â”‚  First Name *                                                   â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚                                                                 â”‚
â”‚  Last Name *                                                    â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚                                                                 â”‚
â”‚  Email *                                                        â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚                                                                 â”‚
â”‚  Phone Number                                                   â”‚
â”‚  [_________________________________________________________]   â”‚
â”‚                                                                 â”‚
â”‚  Password Setup:                                                â”‚
â”‚  â—‹ Send magic link (user sets password on first login)        â”‚
â”‚  â— Auto-generate password (sent via email)                     â”‚
â”‚                                                                 â”‚
â”‚                                [â† Back]  [Next: Review â†’]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step 5: Review & Provision**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Tenant                               Step 5 of 5     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Review & Provision                                             â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Company Information                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Name:      ACME Oil & Gas, Inc.                               â”‚
â”‚  Subdomain: acmeoil.wellpulse.io                               â”‚
â”‚  Contact:   admin@acmeoil.com                                  â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Database Configuration                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Provider:  Azure PostgreSQL Flexible Server                   â”‚
â”‚  Region:    East US 2                                           â”‚
â”‚  SKU:       Burstable B1ms (1 vCore, 2GB RAM)                  â”‚
â”‚  Cost:      $30/month                                           â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Subscription Plan                                              â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Plan:      Professional ($299/month)                           â”‚
â”‚  Trial:     30 days free (ends Nov 22, 2025)                   â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Admin User                                                     â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Name:      John Doe                                            â”‚
â”‚  Email:     john.doe@acmeoil.com                               â”‚
â”‚  Password:  Auto-generated (will be emailed)                   â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  Provisioning Steps (automated)                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚  1. Create tenant record in master database                    â”‚
â”‚  2. Provision Azure PostgreSQL database                        â”‚
â”‚  3. Run database migrations                                     â”‚
â”‚  4. Configure subdomain (acmeoil.wellpulse.io)                â”‚
â”‚  5. Create admin user account                                   â”‚
â”‚  6. Send welcome email with login instructions                 â”‚
â”‚                                                                 â”‚
â”‚  Estimated Time: 3-5 minutes                                    â”‚
â”‚                                                                 â”‚
â”‚                   [â† Back]  [Provision Tenant]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Provisioning Progress Screen**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Provisioning Tenant: ACME Oil & Gas                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âœ“ Created tenant record in master database                    â”‚
â”‚  â³ Provisioning Azure PostgreSQL database... (2/5 min)        â”‚
â”‚  â—‹ Running database migrations                                  â”‚
â”‚  â—‹ Configuring subdomain                                        â”‚
â”‚  â—‹ Creating admin user                                          â”‚
â”‚  â—‹ Sending welcome email                                        â”‚
â”‚                                                                 â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 40%                     â”‚
â”‚                                                                 â”‚
â”‚  Current Step: Waiting for Azure to provision database...      â”‚
â”‚                                                                 â”‚
â”‚                                            [Cancel Provisioning] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Success Screen**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ“ Tenant Provisioned Successfully!                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ‰ ACME Oil & Gas is ready to use WellPulse!                  â”‚
â”‚                                                                 â”‚
â”‚  Tenant URL:      https://acmeoil.wellpulse.io                 â”‚
â”‚  Admin Email:     john.doe@acmeoil.com                         â”‚
â”‚  Admin Password:  [Sent via email]                             â”‚
â”‚                                                                 â”‚
â”‚  Database:        acmeoil_prod (Azure East US 2)               â”‚
â”‚  Schema Version:  v1.2.3 (latest)                              â”‚
â”‚                                                                 â”‚
â”‚  Next Steps:                                                    â”‚
â”‚  1. Admin user has been emailed login instructions             â”‚
â”‚  2. Tenant is in 30-day trial period (ends Nov 22)            â”‚
â”‚  3. Collect payment method before trial expires                â”‚
â”‚                                                                 â”‚
â”‚                [View Tenant Details]  [Create Another Tenant]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. Database Management

**URL**: `https://admin.wellpulse.io/database`

**Features**:

```
Database Management
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Schema Migrations
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Select Tenant: All Tenants â–¼]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Migration History                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ migration_015_add_esg_tracking       Applied: 38/42 tenants â”‚
â”‚ migration_014_add_equipment_photos   Applied: 42/42 tenants â”‚
â”‚ migration_013_add_notes_field        Applied: 42/42 tenants â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Pending Migrations: 4 tenants need migration_015

[View Details]  [Run Migrations for All]  [Rollback Last]

Connection Health
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tenant           Status      Latency   Last Checked         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ACME Oil         âœ“ Online    12ms      2 min ago           â”‚
â”‚ Permian Prod     âœ“ Online    45ms      2 min ago           â”‚
â”‚ Texas Energy     âœ— Offline   -         2 min ago (ERROR)   â”‚
â”‚ ...                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Test All Connections]  [Export Health Report]

Backup Management
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Select Tenant: ACME Oil â–¼]

Last Backup: October 23, 2025 2:00 AM (12 hours ago)
Next Backup: October 24, 2025 2:00 AM (12 hours from now)
Retention:   7 days

[Trigger Backup Now]  [Restore from Backup]  [Download Backup]
```

---

### 4. User Management (Cross-Tenant)

**URL**: `https://admin.wellpulse.io/users`

```
User Management
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” Search:  [________________]  Filter: [All] [Active] [Suspended]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User              Tenant         Role           Status     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ john.doe@...      ACME Oil      Admin          Active     â”‚
â”‚ jane.smith@...    ACME Oil      Manager        Active     â”‚
â”‚ field.op@...      ACME Oil      Field Operator Active     â”‚
â”‚ admin@permian...  Permian Prod  Admin          Active     â”‚
â”‚ ...                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Actions:
- [Reset Password]
- [Suspend User]
- [Change Role]
- [View Activity Log]
```

---

### 5. Billing & Invoicing

**URL**: `https://admin.wellpulse.io/billing`

```
Billing Overview
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Monthly Recurring Revenue (MRR):  $12,558
Annual Run Rate (ARR):            $150,696

Revenue Breakdown
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Starter Plan:       12 tenants Ã— $99   = $1,188
Professional Plan:  28 tenants Ã— $299  = $8,372
Enterprise Plan:     2 tenants Ã— $999  = $1,998
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total MRR:                                $12,558

Upcoming Renewals (Next 7 Days)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tenant         Plan          Amount   Renewal Date  Status â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ACME Oil       Professional  $299     Oct 25        âœ“ Paid â”‚
â”‚ Texas Energy   Starter       $99      Oct 27        âš  Trialâ”‚
â”‚ ...                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[View Invoice History]  [Download Reports]
```

---

### 6. Analytics & Monitoring

**URL**: `https://admin.wellpulse.io/analytics`

```
Platform Analytics
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

System Health
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
API Uptime:       99.97% (last 30 days)
Avg Response Time: 145ms
Error Rate:        0.03%
Active Tenants:    42

[Chart: API Response Time (Last 7 Days)]
[Chart: Error Rate Trends]

Usage Statistics (All Tenants, Last 30 Days)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total API Requests:     45.2M requests
Data Synced:            1.2 TB
Storage Used:           342 GB
Active Wells:           1,847 wells
Field Data Entries:     123,456 entries

Top Users by Activity
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. ACME Oil        - 12.3M requests
2. Permian Prod    - 8.7M requests
3. Texas Energy    - 6.2M requests
...

[Export Full Report]  [Set Up Alerts]
```

---

### 7. Support Tickets

**URL**: `https://admin.wellpulse.io/support`

```
Support Tickets
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[New Ticket]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ticket    Tenant       Subject              Status  Age    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ #1234     ACME Oil     Can't sync data      Open    2h     â”‚
â”‚ #1233     Texas Energy Database timeout     Open    1d     â”‚
â”‚ #1232     Permian Prod Feature request      Closed  3d     â”‚
â”‚ ...                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Filter: Open] [Priority: All] [Assigned to: Me]
```

---

## API Endpoints (Admin Module)

All admin endpoints require admin authentication token:

```typescript
// apps/api/src/presentation/admin/admin.controller.ts

@Controller('admin')
@UseGuards(AdminAuthGuard) // Requires admin role
export class AdminController {

  // Tenant Management
  @Get('tenants')
  async getAllTenants(): Promise<TenantDto[]> {}

  @Get('tenants/:tenantId')
  async getTenantById(@Param('tenantId') tenantId: string): Promise<TenantDetailDto> {}

  @Post('tenants')
  async createTenant(@Body() dto: CreateTenantDto): Promise<TenantDto> {
    // Triggers provisioning workflow:
    // 1. Create tenant record in master DB
    // 2. Provision database (Azure/AWS)
    // 3. Run migrations
    // 4. Configure subdomain
    // 5. Create admin user
    // 6. Send welcome email
  }

  @Patch('tenants/:tenantId')
  async updateTenant(@Param('tenantId') tenantId: string, @Body() dto: UpdateTenantDto): Promise<TenantDto> {}

  @Post('tenants/:tenantId/suspend')
  async suspendTenant(@Param('tenantId') tenantId: string): Promise<void> {}

  @Post('tenants/:tenantId/reactivate')
  async reactivateTenant(@Param('tenantId') tenantId: string): Promise<void> {}

  // Database Management
  @Post('database/test-connection')
  async testDatabaseConnection(@Body() dto: TestConnectionDto): Promise<ConnectionTestResult> {}

  @Post('database/migrations/run')
  async runMigrations(@Body() dto: RunMigrationsDto): Promise<MigrationResult> {
    // Runs migrations for specified tenants
    // Updates migration status in master DB
  }

  @Get('database/migrations/status')
  async getMigrationStatus(): Promise<MigrationStatusDto> {}

  @Post('database/backup/:tenantId')
  async triggerBackup(@Param('tenantId') tenantId: string): Promise<BackupResult> {}

  // User Management
  @Get('users')
  async getAllUsers(@Query() query: UserFilterDto): Promise<UserDto[]> {}

  @Post('users/:userId/reset-password')
  async resetUserPassword(@Param('userId') userId: string): Promise<void> {}

  @Post('users/:userId/suspend')
  async suspendUser(@Param('userId') userId: string): Promise<void> {}

  // Billing
  @Get('billing/overview')
  async getBillingOverview(): Promise<BillingOverviewDto> {}

  @Get('billing/invoices')
  async getInvoices(@Query() query: InvoiceFilterDto): Promise<InvoiceDto[]> {}

  // Analytics
  @Get('analytics/platform')
  async getPlatformAnalytics(@Query() query: AnalyticsFilterDto): Promise<PlatformAnalyticsDto> {}

  @Get('analytics/tenants')
  async getTenantAnalytics(): Promise<TenantAnalyticsDto[]> {}

  // Support
  @Get('support/tickets')
  async getSupportTickets(@Query() query: TicketFilterDto): Promise<SupportTicketDto[]> {}

  @Post('support/tickets')
  async createSupportTicket(@Body() dto: CreateTicketDto): Promise<SupportTicketDto> {}

  // Audit Logs
  @Get('audit-logs')
  async getAuditLogs(@Query() query: AuditLogFilterDto): Promise<AuditLogDto[]> {}
}
```

---

## Provisioning Workflow (Backend)

```typescript
// apps/api/src/application/admin/commands/create-tenant.handler.ts
@CommandHandler(CreateTenantCommand)
export class CreateTenantHandler implements ICommandHandler<CreateTenantCommand> {
  constructor(
    private readonly masterDb: MasterDatabaseService,
    private readonly azureService: AzureProvisioningService,
    private readonly migrationService: MigrationService,
    private readonly emailService: EmailService,
  ) {}

  async execute(command: CreateTenantCommand): Promise<TenantProvisioningResult> {
    const { companyInfo, databaseConfig, plan, adminUser } = command;

    // Step 1: Create tenant record in master database
    const tenant = await this.masterDb.tenants.create({
      id: uuidv4(),
      slug: companyInfo.slug,
      name: companyInfo.name,
      tier: plan.tier,
      status: 'PROVISIONING',
      // ... other fields
    });

    try {
      // Step 2: Provision database
      let databaseUrl: string;

      if (databaseConfig.provider === 'AZURE_MANAGED') {
        // Provision new Azure PostgreSQL Flexible Server
        const dbResult = await this.azureService.provisionPostgreSQL({
          resourceGroup: 'wellpulse-prod',
          serverName: `${companyInfo.slug}-db`,
          region: databaseConfig.region,
          sku: databaseConfig.sku,
          storage: databaseConfig.storage,
        });

        databaseUrl = dbResult.connectionString;

        // Wait for database to be ready (can take 3-5 minutes)
        await this.waitForDatabaseReady(databaseUrl);
      } else if (databaseConfig.provider === 'CLIENT_PROVIDED') {
        // Use client-provided connection string
        databaseUrl = databaseConfig.connectionString;

        // Test connection
        const isConnected = await this.testConnection(databaseUrl);
        if (!isConnected) {
          throw new Error('Failed to connect to client-provided database');
        }
      }

      // Update tenant with database URL
      await this.masterDb.tenants.update(tenant.id, { databaseUrl });

      // Step 3: Run database migrations
      await this.migrationService.runMigrations(tenant.id, databaseUrl);

      // Step 4: Configure subdomain (Azure Front Door routing)
      await this.azureService.configureSubdomain(`${companyInfo.slug}.wellpulse.io`);

      // Step 5: Create admin user
      const adminUserRecord = await this.masterDb.tenantUsers.create({
        id: uuidv4(),
        tenantId: tenant.id,
        email: adminUser.email,
        firstName: adminUser.firstName,
        lastName: adminUser.lastName,
        role: 'ADMIN',
        passwordHash: await this.hashPassword(adminUser.autoGeneratedPassword),
      });

      // Step 6: Send welcome email
      await this.emailService.sendWelcomeEmail({
        to: adminUser.email,
        tenantUrl: `https://${companyInfo.slug}.wellpulse.io`,
        email: adminUser.email,
        password: adminUser.autoGeneratedPassword,
      });

      // Step 7: Update tenant status to ACTIVE
      await this.masterDb.tenants.update(tenant.id, { status: 'ACTIVE' });

      return {
        success: true,
        tenantId: tenant.id,
        tenantUrl: `https://${companyInfo.slug}.wellpulse.io`,
        databaseUrl,
        adminUserId: adminUserRecord.id,
      };
    } catch (error) {
      // Rollback: Mark tenant as failed, log error
      await this.masterDb.tenants.update(tenant.id, { status: 'PROVISIONING_FAILED' });
      throw error;
    }
  }

  private async waitForDatabaseReady(connectionString: string): Promise<void> {
    // Poll every 10 seconds for up to 5 minutes
    const maxAttempts = 30;
    for (let i = 0; i < maxAttempts; i++) {
      const isReady = await this.testConnection(connectionString);
      if (isReady) return;
      await new Promise((resolve) => setTimeout(resolve, 10000)); // Wait 10s
    }
    throw new Error('Database provisioning timed out');
  }

  private async testConnection(connectionString: string): Promise<boolean> {
    try {
      const pool = new Pool({ connectionString });
      await pool.query('SELECT 1');
      await pool.end();
      return true;
    } catch {
      return false;
    }
  }
}
```

---

## Audit Logging

Every admin action is logged:

```typescript
// apps/api/src/infrastructure/database/schema/master/admin-audit-logs.schema.ts
export const adminAuditLogsTable = pgTable('admin_audit_logs', {
  id: varchar('id', { length: 255 }).primaryKey(),
  adminUserId: varchar('admin_user_id', { length: 255 }).notNull(),
  action: varchar('action', { length: 100 }).notNull(),
    // "CREATE_TENANT", "UPDATE_TENANT", "SUSPEND_TENANT", "RUN_MIGRATIONS", etc.
  resource: varchar('resource', { length: 100 }).notNull(),
    // "TENANT", "USER", "DATABASE", etc.
  resourceId: varchar('resource_id', { length: 255 }), // ID of affected resource
  details: jsonb('details'), // Additional context
  ipAddress: varchar('ip_address', { length: 50 }),
  userAgent: text('user_agent'),
  createdAt: timestamp('created_at').notNull().defaultNow(),
});
```

**Example Audit Log**:

```json
{
  "id": "log-123",
  "adminUserId": "admin-456",
  "action": "CREATE_TENANT",
  "resource": "TENANT",
  "resourceId": "acmeoil-uuid",
  "details": {
    "tenantName": "ACME Oil & Gas",
    "slug": "acmeoil",
    "databaseProvider": "AZURE_MANAGED",
    "plan": "PROFESSIONAL"
  },
  "ipAddress": "203.0.113.45",
  "userAgent": "Mozilla/5.0...",
  "createdAt": "2025-10-23T14:30:00Z"
}
```

---

## Security Considerations

1. **Admin-only endpoints**: All admin routes require `AdminAuthGuard`
2. **MFA required**: Multi-factor authentication mandatory for admin accounts
3. **IP whitelisting**: Admin portal only accessible from WellPulse office network (optional)
4. **Audit logging**: Every admin action logged with IP, user agent, timestamp
5. **Role separation**: Super Admin vs Operations Admin vs Support Admin
6. **Database credentials**: Never displayed in plain text (always masked)
7. **Session timeout**: 30 minutes of inactivity logs out admin

---

## Deployment

```yaml
# Azure Container App: admin.wellpulse.io
Name: wellpulse-admin
Image: ghcr.io/yourusername/wellpulse-admin:latest
Ingress: Enabled, External, Port 3000
Custom Domain: admin.wellpulse.io
Environment Variables:
  - API_URL: https://api.wellpulse.io
  - NEXTAUTH_URL: https://admin.wellpulse.io
  - NEXTAUTH_SECRET: @Microsoft.KeyVault(SecretUri=...)
  - MASTER_DATABASE_URL: @Microsoft.KeyVault(SecretUri=...)
  - AZURE_SUBSCRIPTION_ID: @Microsoft.KeyVault(SecretUri=...)
  - AZURE_CREDENTIALS: @Microsoft.KeyVault(SecretUri=...) # For provisioning
```

---

## Summary

The **WellPulse Admin Portal** provides:

1. **Tenant Provisioning**: 5-step wizard to create new tenants (company info, database config, plan, admin user, review)
2. **Database Management**: Test connections, run migrations, trigger backups - all from UI
3. **User Management**: View all users across tenants, reset passwords, suspend accounts
4. **Billing & Invoicing**: MRR tracking, upcoming renewals, invoice history
5. **Analytics & Monitoring**: Platform health, usage statistics, error tracking
6. **Support Tickets**: Centralized support ticket management
7. **Audit Logging**: Complete trail of all admin actions

**Key Benefit**: WellPulse staff never need to log into Azure Portal, SSH into servers, or manually run database commands. Everything is automated through the admin portal.

---

**Related Documentation**:
- [Azure Production Architecture](../deployment/azure-production-architecture.md)
- [Database-Per-Tenant Multi-Tenancy Pattern](../patterns/69-Database-Per-Tenant-Multi-Tenancy-Pattern.md)
